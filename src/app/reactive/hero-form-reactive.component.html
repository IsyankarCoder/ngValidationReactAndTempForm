<div class="container">
     <h1>Reactive Form</h1>
     <form [formGroup] = "heroForm" #formdir="ngForm">
           <div [hidden]="formdir.submitted">
                <div class="cross-validation" [class.cross-validation-error]="heroForm?.errors?.identityRevealed && (heroForm.touched || heroForm.dirty)">
                    <div class="form-group">
                          <label for="name">Name</label>
                          <input id="name" class="form-control" formControlName="name" required />
                          <div *ngIf="name?.invalid && (name?.dirty || name?.touched)">
                                <div *ngIf="name?.errors?.required">
                                     Name is required
                                </div>
                                <div *ngIf="name?.errors?.minlegth">
                                     Name must be at least 4 characters long
                                </div>
                                <div *ngIf="name?.errors?.forbiddenName">
                                      Name cannot be bob !
                                </div>
                          </div>
                   </div>
                   <div  class="form-group">
                         <label for="alterEgo">Alter Ego</label>
                         <input id="alterEgo" class="form-control" formControlName="alterEgo">
                         <div *ngIf="alterEgo?.pending">Validating.....</div>
                         <div *ngIf="alterEgo?.invalid" class="alert alert-danger alter-ego-errors">
                               <div *ngIf="alterEgo?.errors?.uniqueAlterEgo">
                                    Alter Ego is already taken....
                               </div>
                         </div>
                         <div *ngIf="heroForm.errors?.identityRevealed && (heroForm.dirty || heroForm.touched)" class="cross-validation-error-message alert alert-danger">
                               Name cannot match alter ego.
                         </div>
                   </div>
                   <div class="form-group">
                         <label for="power">Hero Power</label>
                         <select id="power" class="form-control" formControlName="power" required>
                               <option *ngFor="let p of powers" [value]="p">{{p}}</option>
                         </select>
                         <div *ngIf="power?.invalid && power?.touched" class="alert alert-danger">
                               <div *ngIf="power?.errors?.required">Power is required</div>
                         </div>

                   </div>
                </div>
                <button type="submit" class="btn btn-default" [disabled]="heroForm.invalid">Submit</button>
                <button type="submit" class="btn btn-default" [disabled]="formdir.resetForm({})">Reset</button>
           </div> 
     </form>     
     <div class="submitted-message" *ngIf="formdir.submitted">
      <p>You have submitted your hero , {{heroForm?.value.name}}!</p>
      <button (click)="formdir.resetForm({});">Add new hero </button>
   </div>
</div>
